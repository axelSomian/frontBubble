import{$ as y,Ba as D,Ca as P,Da as x,Ea as E,Fa as S,G as h,Ga as T,Ha as A,I as f,J as m,Ja as B,Ka as w,Ma as I,Na as L,P as C,Pa as j,Qa as u,Ra as H,Sa as N,V as i,Va as k,W as r,X as s,Xa as O,Za as R,a as F,b as U,bb as J,cb as _,db as G,g as M,ia as a,q as p,s as l,sa as b,ta as $,v as c}from"./chunk-NZCLQYR3.js";var z=(()=>{class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=m({type:e,selectors:[["app-header"]],decls:7,vars:0,consts:[[1,"navbar","navbar-expand-lg","bg-white"],[1,"container-fluid","d-flex","justify-content-between","align-items-center","py-2"],["href","/",1,"navbar-brand","m-0","d-flex","align-items-center"],[1,"logo"],[1,"brand"]],template:function(o,n){o&1&&(i(0,"nav",0)(1,"div",1)(2,"a",2)(3,"h1",3)(4,"span",4),a(5,"b"),r(),a(6,"ubble "),r()()()())},styles:[`h1[_ngcontent-%COMP%]{padding:0;margin:0}.logo[_ngcontent-%COMP%]{font-family:apple-system,sans-serif;font-weight:700;font-size:1.5rem;margin:0}.brand[_ngcontent-%COMP%]{color:#5170ff}
/*# sourceMappingURL=/header.component-WTGSLH7F.css.map */`]})}return e})();var V=(()=>{class e{title="Bubble";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=m({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(o,n){o&1&&s(0,"app-header")(1,"router-outlet")},dependencies:[z,B],encapsulation:2})}return e})();var g=(()=>{class e{http;constructor(t){this.http=t}apiUrl="http://192.168.1.44:3000/api";myToken;login(t,o){return this.http.post(`${this.apiUrl}/users/login`,{email:t,password:o}).pipe(p(n=>{this.myToken=n.token,localStorage.setItem("token",this.myToken)}),M(n=>n.token))}getToken(){if(this.myToken)return this.myToken;{let t=localStorage.getItem("token");return t?(this.myToken=t,this.myToken):""}}static \u0275fac=function(o){return new(o||e)(c(E))};static \u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var K=(()=>{class e{authservice;constructor(t){this.authservice=t}intercept(t,o){let n=t.clone({setHeaders:{Authorization:`Bearer ${this.authservice.getToken()}`}});return o.handle(n)}static \u0275fac=function(o){return new(o||e)(c(g))};static \u0275prov=l({token:e,factory:e.\u0275fac})}return e})();var Y=[{provide:S,useClass:K,multi:!0}];var W=(()=>{class e{fb;authservice;router;constructor(t,o,n){this.fb=t,this.authservice=o,this.router=n}loginForm;ngOnInit(){this.loginForm=this.fb.group({email:["",u.required],password:["",[u.required,u.minLength(6)]]})}onSubmit(){if(console.log("\u{1F501} Tentative de login..."),this.loginForm.valid){let{email:t,password:o}=this.loginForm.value;console.log("Login:",t,o),this.authservice.login(t,o).pipe(p(n=>{console.log("Token:",n),this.router.navigate(["/houses"])})).subscribe()}}static \u0275fac=function(o){return new(o||e)(f(J),f(g),f(w))};static \u0275cmp=m({type:e,selectors:[["app-login"]],decls:18,vars:2,consts:[[1,"login-container","d-flex"],[1,"form-section","p-5","d-flex","flex-column","justify-content-center"],[1,"mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","text","id","email","formControlName","email","placeholder","Entrez votre email ou mobile",1,"form-control"],["for","password",1,"form-label"],["type","password","id","password","formControlName","password","placeholder","********",1,"form-control"],["type","submit",1,"btn","btn-primary","w-100",3,"disabled"],[1,"logo-section","d-none","d-md-flex","align-items-center","justify-content-center"],[1,"logo-text"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1)(2,"h2",2),a(3,"Connexion"),r(),i(4,"form",3),y("ngSubmit",function(){return n.onSubmit()}),i(5,"div",4)(6,"label",5),a(7,"Email"),r(),s(8,"input",6),r(),i(9,"div",4)(10,"label",7),a(11,"Mot de passe"),r(),s(12,"input",8),r(),i(13,"button",9),a(14," Se connecter "),r()()(),i(15,"div",10)(16,"h1",11),a(17,"Bubble"),r()()()),o&2&&(h(4),C("formGroup",n.loginForm),h(9),C("disabled",n.loginForm.invalid))},dependencies:[D,G,k,j,H,N,O,R,_],styles:[`@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z11lFc-K.woff2) format("woff2");unicode-range:U+0900-097F,U+1CD0-1CF9,U+200C-200D,U+20A8,U+20B9,U+20F0,U+25CC,U+A830-A839,U+A8E0-A8FF,U+11B00-11B09}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1JlFc-K.woff2) format("woff2");unicode-range:U+0100-02BA,U+02BD-02C5,U+02C7-02CC,U+02CE-02D7,U+02DD-02FF,U+0304,U+0308,U+0329,U+1D00-1DBF,U+1E00-1E9F,U+1EF2-1EFF,U+2020,U+20A0-20AB,U+20AD-20C0,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:Poppins;font-style:normal;font-weight:600;font-display:swap;src:url(https://fonts.gstatic.com/s/poppins/v24/pxiByp8kv8JHgFVrLEj6Z1xlFQ.woff2) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+0304,U+0308,U+0329,U+2000-206F,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}.login-container[_ngcontent-%COMP%]{min-height:100vh}.form-section[_ngcontent-%COMP%]{flex:1;background-color:#fff}.logo-section[_ngcontent-%COMP%]{flex:1;background-color:#007bff;color:#fff;font-family:Poppins,sans-serif}.logo-section[_ngcontent-%COMP%]   .logo-text[_ngcontent-%COMP%]{font-size:3rem;font-weight:600;text-align:center}@media (max-width: 768px){.logo-section[_ngcontent-%COMP%]{display:none!important}.form-section[_ngcontent-%COMP%]{flex:1 1 100%;padding:2rem}}
/*# sourceMappingURL=/login-page.component-5TVI4XMB.css.map */`]})}return e})();var X=[{path:"houses",loadChildren:()=>import("./chunk-RZGB6H6I.js").then(e=>e.HouseModule)},{path:"",redirectTo:"houses",pathMatch:"full"},{path:"login",component:W}];var v={providers:[b({eventCoalescing:!0}),I(X,L()),T(A()),...Y]};function Q(e){let ee=e,t=Math.floor(Math.abs(e)),o=e.toString().replace(/^[^.]*\.?/,"").length,n=parseInt(e.toString().replace(/^[^e]*(e([-+]?\d+))?/,"$2"))||0;return t===0||t===1?1:n===0&&t!==0&&t%1e6===0&&o===0||!(n>=0&&n<=5)?4:5}var q=["fr",[["AM","PM"],void 0,void 0],void 0,[["D","L","M","M","J","V","S"],["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],["di","lu","ma","me","je","ve","sa"]],void 0,[["J","F","M","A","M","J","J","A","S","O","N","D"],["janv.","f\xE9vr.","mars","avr.","mai","juin","juil.","ao\xFBt","sept.","oct.","nov.","d\xE9c."],["janvier","f\xE9vrier","mars","avril","mai","juin","juillet","ao\xFBt","septembre","octobre","novembre","d\xE9cembre"]],void 0,[["av. J.-C.","ap. J.-C."],void 0,["avant J\xE9sus-Christ","apr\xE8s J\xE9sus-Christ"]],1,[6,0],["dd/MM/y","d MMM y","d MMMM y","EEEE d MMMM y"],["HH:mm","HH:mm:ss","HH:mm:ss z","HH:mm:ss zzzz"],["{1} {0}","{1}, {0}","{1} '\xE0' {0}",void 0],[",","\u202F",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0\xA0%","#,##0.00\xA0\xA4","#E0"],"EUR","\u20AC","euro",{ARS:["$AR","$"],AUD:["$AU","$"],BEF:["FB"],BMD:["$BM","$"],BND:["$BN","$"],BYN:[void 0,"\u0440."],BZD:["$BZ","$"],CAD:["$CA","$"],CLP:["$CL","$"],CNY:[void 0,"\xA5"],COP:["$CO","$"],CYP:["\xA3CY"],EGP:[void 0,"\xA3E"],FJD:["$FJ","$"],FKP:["\xA3FK","\xA3"],FRF:["F"],GBP:["\xA3GB","\xA3"],GIP:["\xA3GI","\xA3"],HKD:[void 0,"$"],IEP:["\xA3IE"],ILP:["\xA3IL"],ITL:["\u20A4IT"],JPY:[void 0,"\xA5"],KMF:[void 0,"FC"],LBP:["\xA3LB","\xA3L"],MTP:["\xA3MT"],MXN:["$MX","$"],NAD:["$NA","$"],NIO:[void 0,"$C"],NZD:["$NZ","$"],PHP:[void 0,"\u20B1"],RHD:["$RH"],RON:[void 0,"L"],RWF:[void 0,"FR"],SBD:["$SB","$"],SGD:["$SG","$"],SRD:["$SR","$"],TOP:[void 0,"$T"],TTD:["$TT","$"],TWD:[void 0,"NT$"],USD:["$US","$"],UYU:["$UY","$"],WST:["$WS"],XCD:[void 0,"$"],XPF:["FCFP"],ZMW:[void 0,"Kw"]},"ltr",Q];P(q);x(V,U(F({},v),{providers:[...v.providers||[],{provide:$,useValue:"fr"}]})).catch(e=>console.error(e));
//# sourceMappingURL=main-NJK7TSAJ.js.map
